{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Launch QEMU",
      "type": "shell",
      "isBackground": true,
      "windows": {
          "command": "start -FilePath 'qemu-system-i386' -ArgumentList '-S -gdb tcp::1234 -boot d -cdrom ${config:cmake.buildDirectory}/build/kernel.img -m 64'"
      },
      "linux": {
          "command": "echo Starting QEMU&qemu-system-x86_64 -S -gdb tcp::1234 -boot d -hda ${config:cmake.buildDirectory}/kernel.img -m 64 -hdb ${config:cmake.buildDirectory}/disk.iso"
      },
      "problemMatcher": {
        "pattern": {
            "regexp": "^(Starting QEMU)",
            "line": 1,
        },
        "background": {
            "activeOnStart": true,
            "beginsPattern": "^(Starting QEMU)",
            "endsPattern": "^(Starting QEMU)"
        }
    }
  }
  ]
}